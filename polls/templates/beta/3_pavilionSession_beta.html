<!DOCTYPE html>
{% load static %}
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>IROS 2020 On-Demand : Sessions</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1">

    <script src="https://s3-us-west-2.amazonaws.com/ieeeshutpages/gdpr/settings.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.0.3/cookieconsent.min.js"></script>
    <script>
        window.addEventListener("load", function() {
            window.cookieconsent.initialise(json)
        });
    </script>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
    <!-- Link Swiper's CSS -->
    <link rel="stylesheet" href="{% static 'package/css/swiper.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/styles0921.css' %}">
    <link rel="stylesheet" href="{% static 'css/paperimg0930.css' %}">
    <script
            src="https://kit.fontawesome.com/7541329784.js"
            crossorigin="anonymous"
    ></script>
    <link
            href="https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap"
            rel="stylesheet"
    />
    <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="{% static 'css/index_land0717.css' %}" />
    <link rel="stylesheet" href="{% static 'css/index_header0921.css' %}" />

</head>
<body>
<header>
    <div class="logo">
        <a href="entrance">
            <img src="{% static './resources/logo.png'%}"/>
        </a>
        <button class="header-toggleBtn"><i class="fa fa-bars"></i></button>
    </div>

    <ul class="categories">
        <li class="category category1"><a href="entrance" style="color:white; text-decoration: none;">Home</a></li>
        <li class="category category2"><a href="mylist?" onClick="this.href=this.href.split('?')[0]+'?'+new Date().getTime()" style="color:white; text-decoration: none;">My Lists</a></li>
        <li class="category category3"><a href="logout" style="color:white; text-decoration: none;">Logout</a></li>
    </ul>

    <ul class="search_notice_info">
        <form>
            <input type="text" id="search_bar" value="" class="searchBar" onkeydown="if(event.keyCode === 13) {event.preventDefault(); document.getElementById('searchBtn').click()}"/>
            <d onclick="if(search_bar.value.length > 0)search()">
                <a id = "keywordDelivery" href="javascript: void(0)">
                    <i id="searchBtn" class="fa fa-search" style="color:white;"></i>
                </a>
            </d>
        </form>
    </ul>
</header>
<div style="width:95%; margin:0 auto; padding-top: 5%;" align="justify">
    <p>&nbsp;</p>
    <h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{Pavilion}}</h3>
    <br>

    <div class = "landingtable" style="width: 90%; height: auto; text-align: left; margin-left: 5%; margin-bottom:2%;">
        <table border="0" cellpadding="0" cellspacing="0" style="background-color: #323232; width: 100%;border-radius: 20px;overflow: hidden;">
            {% if goldSponsorSession|length == 0 %}
                <tr>
                    <td style="width: 50%;">
                        <img onError="this.onerror=null;this.src='{% static './resources/logo2.png' %}';" src="{% static 'img'%}/pavilion{{ PavilionNum}}/{{Session}}.jpg">
                        <div style="transform: translateY(-200px); position: absolute;background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1)); width: 85.5%;height: 200px;"></div>
                    </td>
                    <td class="sessionTitle" style="word-break: keep-all;">
                        <p style="color: white;">Welcome to Session :</p>
                        <p style="color: white;">{{ Session }}</p>
                    </td>
                </tr>
            {% else %}
                <tr>
                    <td style="width: 38%;">
                        <div style="position: relative;overflow: hidden">
                            <video id="videoGoldSponsor" width="117%" autoplay loop >
                                <source src="{% static './video'%}/Gold Sponsor/{{ goldSponsorVideo.0 }}.mp4" type="video/mp4">
                            </video>
                            <div style="position: absolute; z-index: 1;color: yellow; bottom: 0; text-align: center; font-size: 200%; background-color: rgba(0,0,0,0.7); width: 100%">
                                <p>Sample Gold Partner Video Placement</p>
                                <p><a href="{{ goldSponsorWebpage.0 }}" target="_blank"  style="color:white; text-decoration: none;">Click {{ goldSponsorWebpage.0 }}</a> </p>
                                <div style="width: 50%; text-align: left; font-size: 100%;">
                                    <button style="background-color: transparent;border: none; margin:auto; outline: none;color: red;" class="UnmuteBtn"  onclick="disbleMute('videoGoldSponsor')" type="button">
                                        <i class="fas fa-volume-up"></i>
                                    </button>
                                    <button style="background-color: transparent;border: none;margin:auto;outline: none; color: red;" class="MuteBtn" onclick="enableMute('videoGoldSponsor')" type="button">
                                        <i class="fas fa-volume-mute"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div style="transform: translateY(-200px); position: absolute;background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%, rgba(0,0,0,1)); width: 85.5%;height: 200px;"></div>
                    </td>
                    <td style="width: 38%;">
                        <img onError="this.onerror=null;this.src='{% static './resources/logo2.png' %}';" src="{% static 'img'%}/pavilion{{ PavilionNum}}/{{Session}}.jpg" width="100%">
                    </td>
                    <td class="sessionTitle" style="word-break: keep-all;width: 30%;">
                        <p style="color: white;">Welcome to Session :</p>
                        <p style="color: white;">{{ Session }}</p>
                    </td>
                </tr>
            {% endif %}

            <tr>
                {% if goldSponsorSession|length == 0 %}
                    <td colspan="2" >
                        <div style="font-size: 25px; background-color: black;width: 100%; padding-bottom: .5%;padding-left: 1%">
                            <p style="color: white;">Chair: Jaeheung Park (Seoul National University, South Korea)</p>
                            <p style="color: white;">Co-Chair: Tom Verstraten (Vrije Universiteit Brussel, Belgium)</p>
                            <p style="color: white;">Overview: This session covers recent advances in actuator technologies.
                                Specific topics include scaling laws for parallel motor-gearbox arrangements,
                                clutched actuators, continuously variable transmissions and twisted string actuators.</p>
                        </div>
                    </td>
                {% else %}
                    <td colspan="3" >
                        <div style="font-size: 25px; background-color: black;width: 100%; padding-bottom: .5%;padding-left: 1%">
                            <p style="color: white;">Chair: Jaeheung Park (Seoul National University, South Korea)</p>
                            <p style="color: white;">Co-Chair: Tom Verstraten (Vrije Universiteit Brussel, Belgium)</p>
                            <p style="color: white;">Overview: This session covers recent advances in actuator technologies.
                                Specific topics include scaling laws for parallel motor-gearbox arrangements,
                                clutched actuators, continuously variable transmissions and twisted string actuators.</p>
                        </div>
                    </td>
                {% endif %}
            </tr>
        </table>
    </div>

    <div id="highlightModal" class="modal">
        <span class="closeModal">&times;</span>
        <img class="modal-content" id="highlightModalImage">
        <div id="caption"></div>
    </div>

    {% for AuthorList1, AuthorList2, AuthorList3, AuthorList4,AuthorList5,AuthorList6,AffiliationList1,AffiliationList2,AffiliationList3,AffiliationList4,AffiliationList5,TitleList, PDFList, titleNumber, paperLikeCount, paperLikeButtonColor, paperSaveButtonStatus, paperHitCount in EpisodeContext %}
        <div class="epilisttable" style="width: 80%; height: auto; text-align: center; margin-left: 10%; background-color: transparent; margin-bottom:1%">
            <table border="0" cellpadding="0" cellspacing="0" style="background-color: #323232;border-radius: 10px" >
                <tr>
                    <td style="width: 30%; color:white">
                        {#                        <a href="episode?id={{TitleList}}&id2={{ Session }}" onClick="this.href=this.href+'&'+new Date().getTime()">#}
                        {% if titleNumber < 100 %}
                            <img id="paperHighlight" onError="this.onerror=null;this.src='{% static './resources/playlogo.png' %}';" src="{% static './img/IROS20_Digest' %}/00{{ titleNumber|floatformat:"0" }}_PPT.JPG" onclick="highlightClicked(this.src)">
                        {% elif titleNumber >= 100 and titleNumber < 1000 %}
                            <img id="paperHighlight" onError="this.onerror=null;this.src='{% static './resources/playlogo.png' %}';" src="{% static './img/IROS20_Digest' %}/0{{ titleNumber|floatformat:"0" }}_PPT.JPG" onclick="highlightClicked(this.src)">
                        {% elif titleNumber >= 1000 %}
                            <img id="paperHighlight" onError="this.onerror=null;this.src='{% static './resources/playlogo.png' %}';" src="{% static './img/IROS20_Digest' %}/{{ titleNumber|floatformat:"0" }}_PPT.JPG" onclick="highlightClicked(this.src)">
                        {% endif %}
                        {#                        </a>#}
                        Click image to zoom-in &nbsp;&nbsp;&nbsp;<i class="fa fa-search-plus" style="vertical-align: middle"></i>
                    </td>
                    <td valign="top" align="left" style="padding-left: 5%; padding-top: 3%;word-break: keep-all">
                        <p class="papertitle" style="color: white;">Title : {{ TitleList }}</p>
                        <table class="paperInfo" border="0" cellpadding="0" cellspacing="0" width="100% "style="background-color: #323232; text-align: left;color: white;">
                            <tbody>

                            <tr>
                                <td style="width: 40%;"><u>Author</u></td>
                                <td><u>Affiliation</u></th>
                            </tr>
                            {% if AuthorList1 == 'missing' %}
                                &nbsp;
                            {% else %}
                                <tr>
                                    <td style="width: 40%">{{ AuthorList1 }}</td>
                                    <td>{{ AffiliationList1 }}</td>
                                </tr>
                            {% endif %}
                            {% if AuthorList2 == 'missing' %}
                                &nbsp;
                            {% else %}
                                <tr>
                                    <td style="width: 40%">{{ AuthorList2 }}</td>
                                    <td>{{ AffiliationList2 }}</td>
                                </tr>
                            {% endif %}
                            {% if AuthorList3 == 'missing' %}
                                &nbsp;
                            {% else %}
                                <tr>
                                    <td style="width: 40%">{{ AuthorList3 }}</td>
                                    <td>{{ AffiliationList3 }}</td>
                                </tr>
                            {% endif %}
                            {% if AuthorList4 == 'missing' %}
                                &nbsp;
                            {% else %}
                                <tr>

                                    <td style="width: 40%">{{ AuthorList4|default_if_none:"" }}</td>
                                    <td>{{ AffiliationList4|default_if_none:"" }}</td>
                                </tr>
                            {% endif %}
                            {% if AuthorList5 == 'missing' %}
                                &nbsp;
                            {% else %}
                                <tr>
                                    <td style="width: 40%">{{ AuthorList5 }}</td>
                                    <td>{{ AffiliationList5 }}</td>
                                </tr>
                            {% endif %}
                            {% if AuthorList6 == 'missing' %}
                                &nbsp;
                            {% else %}
                                <tr>
                                    <td style="width: 40%"><i style="font-size: 100%">Et al</i></td>
                                    <td>&nbsp;</td>
                                </tr>
                            {% endif %}
                            </tbody>
                        </table>
                        <br>
                        <div style="color: white;">
                            {% csrf_token %}
                            {% if paperSaveButtonStatus == 1 %}
                                <button class="saveButton" type="submit" style="margin: auto;background-color: #323232; color: white" onclick="updateSave({{ titleNumber|floatformat:"0" }})">
                                    <i id="savebutton{{titleNumber|floatformat:"0"}}" class="fa fa-check-circle"  aria-hidden="true" style="color:white; font-size: 30px;vertical-align: top"></i>
                                    <font id="buttonMessage{{titleNumber|floatformat:"0"}}" style="color: white;font-size: 18px;">&nbsp;&nbsp;&nbsp;Added to my list</font>
                                    <input type="hidden" name="paperNumber" value="{{ titleNumber|floatformat:"0" }}">
                                </button>
                            {% else %}
                                <button class="saveButton" type="submit" style="padding: 0% ;background-color: #323232;" onclick="updateSave({{ titleNumber|floatformat:"0" }})">
                                    <i id="savebutton{{titleNumber|floatformat:"0"}}" class="fa fa-plus"  aria-hidden="true" style="color:white; font-size: 30px;vertical-align: top"></i>
                                    <font id="buttonMessage{{titleNumber|floatformat:"0"}}" style="color: white;font-size: 18px;">&nbsp;&nbsp;&nbsp;Add to my List</font>
                                    <input type="hidden" name="paperNumber" value="{{ titleNumber|floatformat:"0" }}">
                                </button>
                            {% endif %}
                        </div>
                        <br>
                        <div>
                            <a style="text-decoration: none" href="episode?id={{TitleList}}&id2={{ Session }}" onClick="this.href=this.href+'&'+new Date().getTime()">
                                <div class="videoPlayButton">
                                    <div class="videoPlayButtonIcon">
                                        <i class="fa fa-play-circle" style="vertical-align: middle;"></i>
                                    </div>
                                    <div class="videoPlayButtonText">Watch Now
                                    </div>
                                </div>
                            </a>
                            <div style="display: inline-block;margin-left: 3%">
                                {% if PDFList == 'missing' %}
                                    <p style="font-size: 18px;color: lawngreen;">No PDF files</p>
                                {% else %}
                                    <p style="font-size: 18px"><a href="https://ras.papercept.net/proceedings/IROS20/{{ PDFList }}" target="_blank" style="color: lawngreen;"> Open PDF files</a></p>
                                {% endif %}
                            </div>
                        </div>
                        <br>
                        <div class="paperlikeviewcountdiv">
                            {% if paperLikeButtonColor == 1 %}
                                <button class="likeButton" type="submit" style="margin: auto;background-color: #323232 ;" onclick="updateLike({{ titleNumber|floatformat:"0" }})">
                                    <i id="thumbs{{titleNumber|floatformat:"0"}}" class="fa fa-thumbs-up" style="color:yellow; font-size: 30px"></i>
                                    <input type="text" id="{{ titleNumber|floatformat:"0" }}" value="{{ paperLikeCount }}" class="thumbsuptext" name="likeCount" readonly/>
                                    <input type="hidden" name="paperNumber" value="{{ titleNumber|floatformat:"0" }}">
                                </button>
                            {% else %}
                                <button class="likeButton" type="submit" style="padding: 0% ;background-color: #323232;" onclick="updateLike({{ titleNumber|floatformat:"0" }})">
                                    <i id="thumbs{{titleNumber|floatformat:"0"}}" class="fa fa-thumbs-up" style="color:grey; font-size: 30px"></i>
                                    <input type="text" id="{{ titleNumber|floatformat:"0" }}" value="{{ paperLikeCount }}" class="thumbsuptext" name="likeCount" readonly/>
                                    <input type="hidden" name="paperNumber" value="{{ titleNumber|floatformat:"0" }}">
                                </button>
                            {% endif %}
                            <span class="listHitCount" style="color: white;font-size: 18px">{{ paperHitCount }} views</span>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
    {% endfor %}
    <p>&nbsp;</p>
    <div class="netflix-slider">
        <h3>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {{Pavilion}} - Other Sessions</h3>
        <div class="swiper-container">
            <div class="swiper-wrapper">
                {% for j in SessionList %}
                    <div class="swiper-slide"><a href="tvshow?id={{j}}&id2={{ Pavilion }}&id3={{PavilionNum}}" style="color:white; text-decoration: none;">
                        <img class="netflix-slider-img" onError="this.onerror=null;this.src='{% static './resources/logo2.png' %}';" src="{% static 'img'%}/pavilion{{ PavilionNum }}/{{ j }}.jpg">
                        <div class="onimg-caption">{{ j }}
                        </div>
                    </a>
                    </div>
                {% endfor %}
            </div>
            <!-- Add Pagination -->
            {#      <div class="swiper-pagination"></div>#}
            <div class="swiper-button-next"></div>
            <div class="swiper-button-prev"></div>
        </div>
    </div>


    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
    <script>
        function updateLike(titleNumber){
            $.ajax({
                url:'post_like',
                type:'POST',
                data:{'paperNumber':titleNumber},
                dataType:'json',
                success: function(json) {
                    $('#'+titleNumber)[0].value =  json['likeCount'];
                    $('#thumbs'+titleNumber)[0].style.color =  json['likeButtonColor'];
                },
                error: function(err) {
                    alert("Failed to Retrieve JSON file from Server");
                }
            });
        }
    </script>
    <script>
        function updateSave(titleNumber){
            var savebuttonClass = document.getElementById("savebutton"+titleNumber).className;
            $.ajax({
                url:'post_save',
                type:'POST',
                data:{'paperNumber':titleNumber},
                dataType:'json',
                success: function(json) {
                    $('#savebutton'+titleNumber).removeClass(savebuttonClass);
                    $('#savebutton'+titleNumber).addClass(json['paperSaveButtonStatus']);
                    $('#buttonMessage'+titleNumber).html('&nbsp;&nbsp;&nbsp;'+json['buttonMessage'])
                },
                error: function(err) {
                    alert("Failed to Retrieve JSON file from Server");
                }
            });
        }
    </script>
    <script src="{% static 'js/index_header.js' %}"></script>
    <script src="{% static 'package/js/swiper.min.js' %}"></script>
    <script>
        function search(){
            const query = document.getElementById("search_bar").value;
            document.getElementById("keywordDelivery").href = "searchresult?id="+query;
        }

    </script>
    <script>
        var swiper = new Swiper('.swiper-container', {
            {#slidesPerView: 7,#}
            {#spaceBetween: 10,#}
            slidesPerGroup: 2,
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            navigation: {
                nextEl: '.swiper-button-next',
                prevEl: '.swiper-button-prev',
            },
            breakpoints: {
                // when window width is >= 320px
                200: {
                    slidesPerView: 4,
                    slidesPerColumnFill:'row',
                    spaceBetween: 4
                },
                // when window width is >= 480px
                600: {
                    slidesPerView: 5,
                    spaceBetween: 5
                },
                // when window width is >= 640px
                900: {
                    slidesPerView: 6,
                    spaceBetween: 6
                }
            }
        });
    </script>
    <script>
        function enableMute(video) {
            var vid = document.getElementById(video);
            vid.muted = true;
        }
        function disbleMute(video) {
            var vid = document.getElementById(video);
            vid.muted = false;
        }
    </script>

    <script>
        // Get the modal
        var modal = document.getElementById("highlightModal");
        var modalImg = document.getElementById("highlightModalImage");
        var captionText = document.getElementById("caption");

        var span = document.getElementsByClassName("closeModal")[0];

        // When the user clicks on <span> (x), close the modal
        modalImg.onclick = function() {
            modal.style.display = "none";
        }

    </script>
    <script>
        function highlightClicked(src){
            modal.style.display = "block";
            modalImg.src = src;
            captionText.innerHTML = "Tap on the image to close";
        }
    </script>

</div>
</body>
</html>
